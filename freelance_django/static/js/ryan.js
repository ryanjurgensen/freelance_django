// Generated by CoffeeScript 1.6.1
(function() {

  $(document).ready(function() {
    $.tablesorter.addParser({
      id: 'skillz',
      is: function(s) {
        return false;
      },
      format: function(s) {
        return s.toLowerCase().replace(/high/, 2).replace(/medium/, 1).replace(/low/, 0);
      },
      type: 'numeric'
    });
    $("#skills-table").tablesorter({
      sortList: [[1, 1], [2, 1]],
      headers: {
        1: {
          sorter: 'skillz'
        },
        2: {
          sorter: 'skillz'
        }
      }
    });
    $('#gist-hover').click(function(e) {
      return $('.gist').toggle();
    });
    $('.foursquare').click(function(e) {
      var expanded, time;
      time = 350;
      if ($(this).hasClass('big')) {
        $('.foursquare').show().animate({
          width: window.startingWidth,
          height: window.startingWidth
        }, time);
        $(this).removeClass('big');
      } else {
        window.startingWidth = $(this).width();
        expanded = ($(this).width() * 2) + (2 * parseInt($(this).css('margin-top')));
        $(this).siblings().animate({
          width: "0px"
        }, time);
        $(this).parent().siblings().find('div').each(function(e) {
          return $(this).animate({
            height: "0px"
          }, time);
        });
        $(this).animate({
          width: expanded,
          height: expanded
        }, time, function(e) {
          $('.foursquare').not($(this)).hide();
          $(this).addClass('big');
        });
      }
    });
    $('#show-table').click(function(e) {
      $('#skills-row').toggle();
    });
    $('.tile img, .tile .blk-label, .tile .blk-label label').click(function(e) {
      var tagName, title;
      $('.modal-body').html($(this).siblings('.desc').html());
      tagName = $(e.target).prop("tagName");
      title = '';
      if (tagName === 'LABEL') {
        title = $(this).html();
      } else if (tagName === 'DIV') {
        title = $(this).find('label').html();
      } else {
        title = $(this).siblings('.blk-label').find('label').html();
      }
      $('#modalLabel').html(title);
      $('#portfolioModal').modal('show');
      _gaq.push(['_trackEvent', 'Portfolio', title]);
    });
    $('#freeOfficeButton').click(function(e) {
      _gaq.push(['_trackEvent', 'Buttons', 'Office Hours']);
    });
    $('#hireBtn').click(function(e) {
      _gaq.push(['_trackEvent', 'Buttons', 'Hire']);
    });
    return;
    return $('.veteranButton').click(function(e) {
      var btn, meta_image_frame;
      btn = $($(this).siblings('.veteranImageInput')[0]);
      e.preventDefault();
      if (meta_image_frame) {
        meta_image_frame.open();
        return;
      }
      meta_image_frame = wp.media.frames.meta_image_frame = wp.media({
        title: meta_image.title,
        button: {
          text: meta_image.button
        },
        library: {
          type: 'image'
        }
      });
      meta_image_frame.on('select', (function(btn, meta_image_frame) {
        var media_attachment;
        media_attachment = meta_image_frame.state().get('selection').first().toJSON();
        btn.val(media_attachment.url);
      })(btn, meta_image_frame));
      meta_image_frame.open();
    });
  });

}).call(this);
